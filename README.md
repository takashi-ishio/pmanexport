# pmanexport

奈良先端大 ソフトウェア工学研究室では [PMAN3](https://se.is.kit.ac.jp/~o-mizuno/ja/pman3/) を長らく利用していましたが、奈良先端大公式の業績管理データベースと Web API が整備されたことに伴い、利用を取りやめました。
過去の業績リストの一部は新システムに移行しなかったので、この export 用プログラムを使って PMAN3 から業績リストと添付ファイルのみ救出して、https://naist-se.github.io/pastpublications.html として公開しています。

技術的には、単純にデータベースのテーブルからレコードを読み込み、書き出しているだけです。
PMAN3 は SQLite を使っているので、文献リスト部分などは DB Browser のようなソフトウェアを使うとテーブルを簡単に確認できます。

`FileExportMain.java` がファイル抽出処理の実装です。
files テーブルに格納されている添付ファイルのバイト列がUTF-8 でエンコードされている（0xffなど特定のバイト列だけが置き換わっている）ので、それを置き換えてからファイルとして書き出しています。

`PaperListMain.java` が論文リストの抽出処理です。
こちらは bib テーブルの情報をつなぎあわせてテキストを作り、年月で並べ替えてから出力しています。
書き出したのは `<li>` タグのリストなので、これを手作業で HTML に埋め込んで公開をしています。

いずれも当研究室の事情を直接ハードコーディングしているので、プログラムの実行には若干の改変が必要だと思いますが、自分で似たような処理を書く場合には参考になるかもしれません。
